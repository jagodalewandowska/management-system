<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" th:import="org.thymeleaf.expression.Strings">
<head>
  <meta charset="UTF-8">
  <link th:href="@{/css/list-style.css}" rel="stylesheet" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@500&display=swap" rel="stylesheet">
  <title>Lista zada≈Ñ</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script th:inline="javascript">
    $(document).ready(function() {
      // Create the button element
      var button = document.createElement("a");
      button.href = "/app/chat"; // Set the URL for redirection
      button.classList.add("float-button"); // Add a custom class for styling

      // Create the icon element
      var icon = document.createElement("i");
      icon.classList.add("fas", "fa-comment-dots"); // Add the Font Awesome classes for the desired icon
      icon.style.color = "#830e21"; // Set the color of the icon
      icon.style.fontSize = "24px"; // Set the font size of the icon

      // Append the icon to the button
      button.appendChild(icon);

      // Append the button to the body
      document.body.appendChild(button);
    });
  </script>
</head>
<body>
<nav>
  <ul>
    <li><b>Lista zada≈Ñ</b></li>
    <li><a th:href="@{/app/projektList}">Lista projekt√≥w</a></li>
    <li><a th:href="@{/app/studentList}">Lista student√≥w</a></li>
    <li><a th:href="@{/app/files}">Do pobrania</a></li>
    <li><a th:href="@{/app/logout}">Wyloguj siƒô</a></li>
    <li><a th:href="@{/}"><img src="https://i.imgur.com/syPNg3Z.png" alt="logo"></a></li>
  </ul>
</nav>
<div class="root">
  <div id="HASH" class="blue-msg">
    <span id="time-HASH" class="smalltext">
      <form method="get" action="#" th:action="@{/app/zadanieList/search}" id="searchform">
              <label for="snazwa" class="myText">üîç</label>
              <input type="text" id="snazwa" name="nazwa">
              <input name="order" type="hidden" th:value="${order}">
              <input name="page" type="hidden" th:value="${page}">
              <input th:if="${sort!=null}" name="sort" type="hidden" th:value="${sort}">
              <select name="size" id="size" form="searchform">
                <option value="5">5</option>
                <option value="10">10</option>
                <option value="15">15</option>
              </select>
              <input type="submit" class="button_edit_nav" value="Szukaj">
              <a th:href="@{/app/zadanieList}" class="button_edit_nav">Resetuj</a><br>
      </form>
    </span>
<!--    Dodawanie zada≈Ñ przeniesiono do projekt√≥w -->
<!--    <span class="ios-circle">-->
<!--      <a th:href="@{/app/zadanieEdit}" class="button_project">Dodaj zadanie</a>-->
<!--    </span>-->
  </div>
  <div class="container">
    <table class="styled_table">
      <thead>
      <tr>
        <th>
          <a th:href="@{'/app/zadanieList/results?sort=zadanieId&order=' + ${reverseSortDir}+'&size=' + ${size}+ '&page=' + ${page}}">Id</a>
          <a th:href="@{'/app/zadanieList/results?sort=zadanieId&order=' + ${reverseSortDir}+'&size=' + ${size}+ '&page=' + ${page}}"><img src="https://i.imgur.com/U7EG8nu.png"></a>
        </th>
        <th>
          <a th:href="@{'/app/zadanieList/results?sort=nazwa&order=' + ${reverseSortDir}+'&size=' + ${size}+ '&page=' + ${page}}">Nazwa</a>
          <a th:href="@{'/app/zadanieList/results?sort=nazwa&order=' + ${reverseSortDir}+'&size=' + ${size}+ '&page=' + ${page}}"><img src="https://i.imgur.com/U7EG8nu.png"></a>
        </th>
        <th>
          <a th:href="@{'/app/zadanieList/results?sort=kolejnosc&order=' + ${reverseSortDir}+'&size=' + ${size}+ '&page=' + ${page}}">Kolejno≈õƒá</a>
          <a th:href="@{'/app/zadanieList/results?sort=kolejnosc&order=' + ${reverseSortDir}+'&size=' + ${size}+ '&page=' + ${page}}"><img src="https://i.imgur.com/U7EG8nu.png"></a>
        </th>
        <th>
          <a th:href="@{'/app/zadanieList/results?sort=opis&order=' + ${reverseSortDir}+'&size=' + ${size}+ '&page=' + ${page}}">Opis</a>
          <a th:href="@{'/app/zadanieList/results?sort=opis&order=' + ${reverseSortDir}+'&size=' + ${size}+ '&page=' + ${page}}"><img src="https://i.imgur.com/U7EG8nu.png"></a>
        </th>
<!--        <th>-->
<!--          <a th:href="@{'/zadanieList/results?sort=dataczas_dodania&order=' + ${reverseSortDir}}">Data dodania</a>-->
<!--          <a th:href="@{'/zadanieList/results?sort=dataczas_dodania&order=' + ${reverseSortDir}}"><img src="https://i.imgur.com/U7EG8nu.png"></a>-->
<!--        </th>-->
        <th>Projekt Id</th>
        <th>Edit</th>
      </tr>
      </thead>
      <tbody>
        <tr th:each="zadanie : ${zadania}">
          <td th:text="${zadanie.zadanieId}">Id</td>
          <td th:text="${zadanie.nazwa}">Nazwa</td>
          <td th:text="${zadanie.kolejnosc}">Kolejno≈õƒá</td>
          <td th:text="${zadanie.opis}">Opis</td>
          <td th:text="${zadanie.projekt.projektId}">projektId</td>
          <td>
            <a th:href="@{/app/zadanieEdit(zadanieId=${zadanie.zadanieId})}"  class="button_edit">Edytuj</a><br>
            <a th:href="@{/app/zadanieEdit(zadanieId=${zadanie.zadanieId},projektId=${zadanie.projekt.projektId},delete='true')}"  class="button_edit">Usu≈Ñ</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <br>
  <form method="get" action="#" th:action="@{/app/zadanieList/results}" id="previousForm">
    <input name="size" type="hidden" th:value="${size}">
    <input name="page" type="hidden" th:value="${previousPage}">
    <input name="order" type="hidden" th:value="${order}">
    <input th:if="${sort!=null}" name="sort" type="hidden" th:value="${sort}">
    <input th:if="${page>0}" type="submit" value="Poprzednia" class="button_project">
  </form>
  <form method="get" action="#" th:action="@{/app/zadanieList/results}" id="nextForm">
    <input name="size" type="hidden" th:value="${size}">
    <input name="order" type="hidden" th:value="${order}">
    <input name="page" type="hidden" th:value="${nextPage}">
    <input th:if="${sort!=null}" name="sort" type="hidden" th:value="${sort}">
    <input type="submit" value="Nastƒôpna" class="button_project">
  </form>
</div>
</body>
</html>